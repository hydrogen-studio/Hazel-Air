(()=>{"use strict";var e={421:function(e,t){var i=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,o){function r(e){try{g(s.next(e))}catch(e){o(e)}}function c(e){try{g(s.throw(e))}catch(e){o(e)}}function g(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}g((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PendingModifier=void 0,t.PendingModifier=class{constructor(e,t,i,s){this.configService=e,this.loggingService=t,this.statsService=i,this.elemId=s}withVaStat(e){return i(this,void 0,void 0,(function*(){var t=yield this.statsService.fetchOrGet();let i=document.getElementById(this.elemId);if(null===i)throw"cannot find element with ID "+this.elemId;this.loggingService.log("found element with ID "+this.elemId);let s=e(t);i.innerText=s.toString(),this.loggingService.log(`replaced ${this.elemId} with ${s}`)}))}}},339:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationService=void 0,t.ConfigurationService=class{constructor(e){this.config=e}getConfig(){return this.config}}},277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingService=void 0,t.LoggingService=class{constructor(e){this.configService=e,e.getConfig().logDebugMessages&&this.log("logging is enabled")}log(e){this.configService.getConfig().logDebugMessages&&console.log(`[stats.js INF] ${e}`)}error(e){console.log(`[stats.js ERR] ${e}`)}}},780:function(e,t){var i=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,o){function r(e){try{g(s.next(e))}catch(e){o(e)}}function c(e){try{g(s.throw(e))}catch(e){o(e)}}function g(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}g((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticsService=void 0,t.StatisticsService=class{constructor(e,t){this.configService=e,this.loggingService=t}fetchStats(){var e;return i(this,void 0,void 0,(function*(){var t=(null!==(e=this.configService.getConfig().baseUrl)&&void 0!==e?e:"https://vamsys.io/statistics/")+this.configService.getConfig().uuid;this.loggingService.log("statistics from "+t);const i=yield fetch(t),s=yield i.json();return i.ok?(this.stats=yield s,Promise.resolve()):Promise.reject()}))}getStats(){return this.stats}fetchOrGet(){return i(this,void 0,void 0,(function*(){return void 0===this.stats?(yield this.fetchStats(),this.stats):this.stats}))}}}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,i),o.exports}var s={};for(var n in(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.vamsysStats=e.StatsJs=void 0;const t=i(421),n=i(339),o=i(277),r=i(780);class c{constructor(e){this.configService=new n.ConfigurationService(e),this.loggingService=new o.LoggingService(this.configService),this.statisticsService=new r.StatisticsService(this.configService,this.loggingService)}replace(e){return new t.PendingModifier(this.configService,this.loggingService,this.statisticsService,e)}}e.StatsJs=c,e.vamsysStats=function(e){return new c(e)}})(),s)this[n]=s[n];s.__esModule&&Object.defineProperty(this,"__esModule",{value:!0})})();



  var stats = vamsysStats({
    uuid: "b2b9996e-a93c-4482-a179-62c15505c0ed"
  });

  stats.replace("pireps").withVaStat(stats => `${stats.pireps.total} Pireps`);
  stats.replace("pilots").withVaStat(stats => `${stats.pilots.total} Pilots`);
  stats.replace("pairs").withVaStat(stats => `${stats.general.pairs} Pairs`);
  stats.replace("aircrafts").withVaStat(stats => `${stats.general.aircraft} Aircrafts`);


